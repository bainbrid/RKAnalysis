# RK analysis tools

cmsrel CMSSW_10_2_15
cd CMSSW_10_2_15/src
cmsenv

# Setup FastForest to read BDT outputs
git clone git@github.com:guitargeek/FastForest.git
cd FastForest
source /cvmfs/cms.cern.ch/slc7_amd64_gcc700/external/cmake/3.10.2/etc/profile.d/init.csh
mkdir build
cd build
cmake ..
make
cd ../../
# ^^^ Compilation errors in Test can be ignored

# Checkout "trigger lumi" package
git clone git@github.com:bainbrid/TriggerLuminosity.git PhysicsTools/TriggerLuminosity
cd PhysicsTools/TriggerLuminosity
# In plugins/MiniAODTriggerAnalyzer.cc, uncomment the line: #define CMSSW_10_2_X
scram b
cd ../..

# Checkout the analysis code
git clone git@github.com:crovelli/RKAnalysis.git 

cd RKAnalysis
git fetch origin
git checkout -b mybranch origin/mybranch

# Compile
mkdir lib
setenv LD_LIBRARY_PATH ${LD_LIBRARY_PATH}:../FastForest/build/
make all
